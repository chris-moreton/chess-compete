# SPSA Tunable Parameters for Rusty Rival
#
# This file contains the current values for parameters being tuned.
# The master controller reads this, generates perturbed versions,
# and updates it after each iteration based on gradient estimates.
#
# Format: parameter_name = { value = X, min = Y, max = Z, step = S }
# - value: current value (updated by SPSA)
# - min/max: bounds to prevent nonsensical values
# - step: perturbation delta (Î´) for SPSA
#
# Reset to iteration 118 values (best Stockfish performance: 2593 Elo)
# Added probcut and multi-cut parameters for Phase 2 tuning

# =============================================================================
# SEARCH PARAMETERS
# =============================================================================

# Reverse futility pruning (beta pruning)
# If static eval - margin * depth > beta, prune
[beta_prune_margin_per_depth]
value = 199.5460979287717
min = 50
max = 400
step = 20

[beta_prune_max_depth]
value = 4.419819665008436
min = 1
max = 6
step = 1

# Null move pruning
# Reduction = base + depth/6 (approximately)
[null_move_reduce_depth_base]
value = 2.9406048225058967
min = 1
max = 5
step = 1

[null_move_min_depth]
value = 5.688443935604393
min = 1
max = 6
step = 1

# SEE (Static Exchange Evaluation) pruning
# At depth N, prune captures with SEE < -margin * N^2
[see_prune_margin]
value = 16.899122349185635
min = 5
max = 50
step = 5

[see_prune_max_depth]
value = 4.916844231009714
min = 3
max = 14
step = 1

# Alpha (futility) pruning margins
# If static eval + margin[depth] < alpha, prune
[alpha_prune_margin_base]
value = 129.16530693633368
min = 50
max = 200
step = 16

[alpha_prune_margin_per_depth]
value = 62.713851414506834
min = 32
max = 128
step = 8

# Late Move Pruning (LMP) thresholds
# After N moves at depth D, skip remaining quiet moves
[lmp_threshold_depth1]
value = 3.8627680945676337
min = 2
max = 16
step = 2

[lmp_threshold_depth2]
value = 4.161021084131218
min = 2
max = 24
step = 2

[lmp_threshold_depth3]
value = 6.008329244191307
min = 4
max = 32
step = 2

# =============================================================================
# PROBCUT PARAMETERS (NEW)
# =============================================================================
# At high depth, do a shallow search with raised beta
# If a capture fails high, the position is probably winning and can be cut

[probcut_min_depth]
value = 4.354126930202213
min = 3
max = 10
step = 1

[probcut_margin]
value = 100.32299431040776
min = 50
max = 300
step = 25

[probcut_depth_reduction]
value = 2.322042168262436
min = 1
max = 6
step = 1

# =============================================================================
# MULTI-CUT PARAMETERS (NEW)
# =============================================================================
# At high depth, if multiple moves fail high at shallow depth,
# assume the position is good and return a beta cutoff

[multicut_min_depth]
value = 10.78662048306704
min = 6
max = 12
step = 1

[multicut_depth_reduction]
value = 5.677957831737563
min = 2
max = 8
step = 1

[multicut_moves_to_try]
value = 10
min = 3
max = 14
step = 1

[multicut_required_cutoffs]
value = 2
min = 1
max = 5
step = 1

# =============================================================================
# FUTURE PARAMETERS (Phase 3+)
# =============================================================================
# Uncomment these when expanding the parameter set

# # LMR (Late Move Reduction) formula coefficients
# # reduction = floor(base + ln(depth) * ln(move_count) / divisor)
# [lmr_base]
# value = 0.75
# min = 0.25
# max = 1.25
# step = 0.1
#
# [lmr_divisor]
# value = 2.5
# min = 1.5
# max = 4.0
# step = 0.25

# # Threat extension margin
# [threat_extension_margin]
# value = 400
# min = 200
# max = 600
# step = 50
